package com.demo.common.model;

import java.util.List;

import com.demo.common.model.base.BaseHoliday;

/**
 * Generated by JFinal.
 */
@SuppressWarnings("serial")
public class Holiday extends BaseHoliday<Holiday> {
	public static final Holiday dao = new Holiday().dao();

	public static Holiday getHoliday(Long itemId) {
		
		  List<Holiday> list=Holiday.dao.find("select * from holiday where item_id=?",itemId); 
		 // Holiday h=Holiday.dao.findFirst("select CONCAT('[',GROUP_CONCAT('\\\"',time,'\"'),']')time ,CONCAT('[',GROUP_CONCAT('\\\"',weeknum,'\"'),']')weeknum from holiday where item_id=?",itemId);
		  Holiday h=new Holiday();
		  StringBuilder ids = new StringBuilder("[");		  
		  StringBuilder ids1 = new StringBuilder("[");		  
		  for (Holiday holiday : list) {
			  ids.append("\""+holiday.getTime()+"\",");
			  ids1.append("\""+holiday.getWeeknum()+"\",");
		  }
		  ids=ids.deleteCharAt(ids.length()-1).append("]");
		  ids1=ids1.deleteCharAt(ids1.length()-1).append("]");
		  h.setTime(ids.toString());
		  h.setWeeknum(ids1.toString());
		  return h;
	}
	public static Holiday getHolidayData(Long itemId) {
		
		List<Holiday> list=Holiday.dao.find("select * from holiday where item_id=?",itemId); 
		// Holiday h=Holiday.dao.findFirst("select CONCAT('[',GROUP_CONCAT('\\\"',time,'\"'),']')time ,CONCAT('[',GROUP_CONCAT('\\\"',weeknum,'\"'),']')weeknum from holiday where item_id=?",itemId);
		Holiday h=new Holiday();
		StringBuilder ids = new StringBuilder("[");
		 StringBuilder ids1 = new StringBuilder("[");		  
		 StringBuilder ids2 = new StringBuilder("[");		  
		 StringBuilder ids3 = new StringBuilder("[");		  
		int i=0;
		for (Holiday holiday : list) {
			ids.append("\""+holiday.getData()+"\",");
			  ids1.append("\""+holiday.getAtemp()+"\",");
			  ids2.append("\""+holiday.getBtemp()+"\",");
			  ids3.append("\""+holiday.getDtemp()+"\",");

			i++;
		}
		if(i>0) {
		ids=ids.deleteCharAt(ids.length()-1).append("]");
		  ids1=ids1.deleteCharAt(ids1.length()-1).append("]");
		  ids2=ids2.deleteCharAt(ids2.length()-1).append("]");
		  ids3=ids3.deleteCharAt(ids3.length()-1).append("]");

		}else {
		ids.append("]");
		ids1.append("]");
		ids2.append("]");
		ids3.append("]");
	
		}
		h.setData(ids.toString()).setAtemp(ids1.toString()).setBtemp(ids2.toString()).setDtemp(ids3.toString());
		return h;
	}
	public static Holiday getHolidayData(List<Holiday> list) {
		
		//List<Holiday> list=Holiday.dao.find("select * from holiday where item_id=?",itemId); 
		// Holiday h=Holiday.dao.findFirst("select CONCAT('[',GROUP_CONCAT('\\\"',time,'\"'),']')time ,CONCAT('[',GROUP_CONCAT('\\\"',weeknum,'\"'),']')weeknum from holiday where item_id=?",itemId);
		Holiday h=new Holiday();
		StringBuilder ids = new StringBuilder("[");
		StringBuilder ids1 = new StringBuilder("[");		  
		StringBuilder ids2 = new StringBuilder("[");		  
		StringBuilder ids3 = new StringBuilder("[");		  
		int i=0;
		for (Holiday holiday : list) {
			ids.append("\""+holiday.getData()+"\",");
			ids1.append("\""+holiday.getAtemp()+"\",");
			ids2.append("\""+holiday.getBtemp()+"\",");
			ids3.append("\""+holiday.getDtemp()+"\",");
			
			i++;
		}
		if(i>0) {
			ids=ids.deleteCharAt(ids.length()-1).append("]");
			ids1=ids1.deleteCharAt(ids1.length()-1).append("]");
			ids2=ids2.deleteCharAt(ids2.length()-1).append("]");
			ids3=ids3.deleteCharAt(ids3.length()-1).append("]");
			
		}else {
			ids.append("]");
			ids1.append("]");
			ids2.append("]");
			ids3.append("]");
			
		}
		h.setData(ids.toString()).setAtemp(ids1.toString()).setBtemp(ids2.toString()).setDtemp(ids3.toString());
		return h;
	}
}
